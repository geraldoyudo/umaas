= UmaaS Getting Started Guide
Oyudo Gerald;
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 4
:sectlinks:

[introduction]
= Introduction

UmaaS is a user management service aimed at taking all the trouble of managing users, roles and groups from the developer.

[overview]
= Overview

[overview-http-verbs]
== HTTP verbs
UmaaS tries to adhere as closely as possible to standard HTTP and REST conventions in its
use of HTTP verbs.
|===
| Verb | Usage

| `GET`
| Used to retrieve a resource

| `POST`
| Used to create a new resource

| `PATCH`
| Used to update an existing resource, including partial updates

| `PUT`
| Used to update an existing resource, full updates only

| `DELETE`
| Used to delete an existing resource
|===

[[overview-http-status-codes]]
== HTTP status codes
UmaaS tries to adhere as closely as possible to standard HTTP and REST conventions in its
use of HTTP status codes.

|===
| Status code | Usage

| `200 OK`
| Standard response for successful HTTP requests. The actual response will depend on the request method used. In a GET request, the response will contain an entity corresponding to the requested resource. In a POST request, the response will contain an entity describing or containing the result of the action.

| `201 Created`
| The request has been fulfilled and resulted in a new resource being created.

| `204 No Content`
| The server successfully processed the request, but is not returning any content.

| `400 Bad Request`
| The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).

| `404 Not Found`
| The requested resource could not be found but may be available again in the future. Subsequent requests by the client are permissible.
|===

[[resources]]
= Resources

[[resources-index]]
== Getting Api Index
A 'Get' request will show you all the resources that UmaaS has.
  
=== Example request

include::{snippets}/index/curl-request.adoc[]
  
=== Example reponse

include::{snippets}/index/http-response.adoc[]

=== Links in Response

include::{snippets}/index/links.adoc[]

[[resources-user]]
== Users
The AppUser resource is used to create, modify and list users. The client must have the required permission to access this resource.

[[resources-user-get-all]]
=== Getting Users Across Domains
A 'GET' request will return all users regardless of domain.

==== Example request
include::{snippets}/get-users-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-users-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-users-example/links.adoc[]

[[resources-user-get-by-domain]]
=== Getting Users in a Domain
A 'GET' request will all users in a domain.

==== Example request
include::{snippets}/get-users-by-domain-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-users-by-domain-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-users-by-domain-example/links.adoc[]

[[resources-user-get-user-by-id]]
=== Getting A user by ID
A 'GET' request a user with the specified id.

include::{snippets}/get-user-example/path-parameters.adoc[]

==== Example request
include::{snippets}/get-user-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-user-example/http-response.adoc[]

[[resources-user-get-user-by-domain-and-external-id]]
=== Getting a User by Domain and External Id
A 'GET' request will get a specific user

==== Example request
include::{snippets}/get-user-by-domain-and-external-id-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-user-by-domain-and-external-id-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-user-by-domain-and-external-id-example/links.adoc[]

[[resources-user-patch-user]]
=== Partially updating a user
A 'PATCH' request will partially update a specific user.

==== Example request
include::{snippets}/patch-user-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/patch-user-example/http-response.adoc[]

[[resources-user-put-user]]
=== Fully updating a user
A 'PUT' request will full update a specific user. Fields that are not present will be marked as null;

==== Example request
include::{snippets}/put-user-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/put-user-example/http-response.adoc[]

[[resources-user-delete-user]]
=== Removing Users
A 'DELETE' request will delete the user from the domain. This will also delete resources associated to the user.

==== Example request
include::{snippets}/delete-user-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/delete-user-example/http-response.adoc[]

[[resources-group]]
== Groups
The Group resource is used to create, modify and list groups. The client must have the required permission to access this resource.

[[resources-group-get-all]]
=== Getting groups Across Domains
A 'GET' request will return all groups regardless of domain.

==== Example request
include::{snippets}/get-groups-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-groups-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-groups-example/links.adoc[]

[[resources-group-get-by-domain]]
=== Getting groups in a Domain
A 'GET' request will all groups in a domain.

==== Example request
include::{snippets}/get-groups-by-domain-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-groups-by-domain-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-groups-by-domain-example/links.adoc[]

[[resources-group-get-group-by-id]]
=== Getting A group by ID
A 'GET' request a group with the specified id.

include::{snippets}/get-group-example/path-parameters.adoc[]

==== Example request
include::{snippets}/get-group-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-group-example/http-response.adoc[]

[[resources-group-get-group-by-domain-and-external-id]]
=== Getting a group by Domain and External Id
A 'GET' request will get a specific group

==== Example request
include::{snippets}/get-groups-by-domain-and-external-id-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-groups-by-domain-and-external-id-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-groups-by-domain-and-external-id-example/links.adoc[]

[[resources-group-patch-group]]
=== Partially updating a group
A 'PATCH' request will partially update a specific group.

==== Example request
include::{snippets}/patch-group-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/patch-group-example/http-response.adoc[]

[[resources-group-put-group]]
=== Fully updating a group
A 'PUT' request will full update a specific group. Fields that are not present will be marked as null;

==== Example request
include::{snippets}/put-group-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/put-group-example/http-response.adoc[]

[[resources-group-delete-group]]
=== Removing a Group
A 'DELETE' request will permanently delete a group from a domain;

==== Example request
include::{snippets}/delete-group-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/delete-group-example/http-response.adoc[]

[[resources-field]]
== Fields
The Group resource is used to create, modify and list fields. The client must have the required permission to access this resource.

[[resources-field-get-all]]
=== Getting Fields Across Domains
A 'GET' request will return all fields regardless of domain.

==== Example request
include::{snippets}/get-fields-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-fields-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-fields-example/links.adoc[]

[[resources-field-get-by-domain]]
=== Getting Fields in a Domain
A 'GET' request will all fields in a domain.

==== Example request
include::{snippets}/get-fields-by-domain-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-fields-by-domain-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-fields-by-domain-example/links.adoc[]

[[resources-field-get-field-by-id]]
=== Getting A Field by ID
A 'GET' request a field with the specified id.

include::{snippets}/get-field-example/path-parameters.adoc[]

==== Example request
include::{snippets}/get-field-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-field-example/http-response.adoc[]

[[resources-field-get-field-by-domain-and-external-id]]
=== Getting a Field by Domain and External Id
A 'GET' request will get a specific field

==== Example request
include::{snippets}/get-fields-by-domain-and-external-id-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-fields-by-domain-and-external-id-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-fields-by-domain-and-external-id-example/links.adoc[]

[[resources-field-patch-field]]
=== Partially updating a Field
A 'PATCH' request will partially update a specific field.

==== Example request
include::{snippets}/patch-field-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/patch-field-example/http-response.adoc[]

[[resources-field-put-field]]
=== Fully updating a Field
A 'PUT' request will full update a specific field. Fields that are not present will be marked as null;

==== Example request
include::{snippets}/put-field-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/put-field-example/http-response.adoc[]

[[resources-field-delete-field]]
=== Removing a Field
A 'DELETE' request will permanently remove a field from the domain. All properties relating to the field will be deleted.

==== Example request
include::{snippets}/delete-field-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/delete-field-example/http-response.adoc[]

[[resources-role]]
== Roles
The Group resource is used to create, modify and list roles. The client must have the required permission to access this resource.

[[resources-role-get-all]]
=== Getting Roles Across Domains
A 'GET' request will return all roles regardless of domain.

==== Example request
include::{snippets}/get-roles-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-roles-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-roles-example/links.adoc[]

[[resources-role-get-by-domain]]
=== Getting Roles in a Domain
A 'GET' request will all roles in a domain.

==== Example request
include::{snippets}/get-roles-by-domain-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-roles-by-domain-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-roles-by-domain-example/links.adoc[]

[[resources-role-get-role-by-id]]
=== Getting A Role by ID
A 'GET' request a role with the specified id.

include::{snippets}/get-role-example/path-parameters.adoc[]

==== Example request
include::{snippets}/get-role-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-role-example/http-response.adoc[]

[[resources-role-get-role-by-domain-and-external-id]]
=== Getting a Role by Domain and External Id
A 'GET' request will get a specific role

==== Example request
include::{snippets}/get-roles-by-domain-and-external-id-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/get-roles-by-domain-and-external-id-example/http-response.adoc[]

==== Links in Response

include::{snippets}/get-roles-by-domain-and-external-id-example/links.adoc[]

[[resources-role-patch-role]]
=== Partially updating a Role
A 'PATCH' request will partially update a specific role.

==== Example request
include::{snippets}/patch-role-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/patch-role-example/http-response.adoc[]

[[resources-role-put-role]]
=== Fully updating a Role
A 'PUT' request will full update a specific role. Roles that are not present will be marked as null;

==== Example request
include::{snippets}/put-role-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/put-role-example/http-response.adoc[]

[[resources-role-delete-role]]
=== Removing a role
A 'DELETE' request will remove a role from a domain. All associations with the role are also removed.

==== Example request
include::{snippets}/delete-role-example/curl-request.adoc[]
  
==== Example reponse
include::{snippets}/delete-role-example/http-response.adoc[]